<VirtualHost *:80>
    ServerAdmin technik@holzweg.com
    ServerName athesiamedien.ts
    ServerAlias *.athesiamedien.ts

    DocumentRoot /home/benny/Web/athesia

    <Directory />
        Options FollowSymLinks
        AllowOverride None
    </Directory>

    <Directory /home/benny/Web/athesia>
        Options -Indexes +FollowSymLinks +MultiViews
        AllowOverride All
        Order allow,deny
        allow from all
    </Directory>

    DirectoryIndex index.php

    FileETag None

    ErrorLog /var/log/apache2/athesia-dev.error.log
    LogLevel error
    CustomLog /var/log/apache2/athesia-dev.access.log combined

    <IfModule mod_php5.c>
        php_flag display_errors on
        php_flag display_startup_errors on
        php_admin_flag log_errors on
        php_admin_value error_log /var/log/apache2/athesia-dev.php-error.log
        php_admin_value memory_limit 512M
    </IfModule>

    <IfModule mod_rewrite.c>
        RewriteEngine On
        
        RewriteRule content/treemenu/? /index_treemenu.php [L]
        Rewriterule ^/var/storage/.* - [L]
        Rewriterule ^/var/[^/]+/storage/.* - [L]
        RewriteRule ^/var/([^/]+/)?cache/(texttoimage|public)/.* - [L]
        Rewriterule ^/design/[^/]+/(stylesheets|images|javascript)/.* - [L]
        Rewriterule ^/share/icons/.* - [L]
        Rewriterule ^/share/video/.* - [L]
        Rewriterule ^/video/flv/.* - [L]
        Rewriterule ^/extension/[^/]+/design/[^/]+/(stylesheets|images|lib|flash|fonts|javascripts?)/.* - [L]
        Rewriterule ^/packages/styles/.+/(stylesheets|images|javascript)/[^/]+/.* - [L]
        RewriteRule ^/packages/styles/.+/thumbnail/.* - [L]
        RewriteRule ^/favicon\.ico - [L]
        RewriteRule ^/index_download\.php - [L]
        RewriteRule ^/robots\.txt - [L]

        RewriteRule .* /index.php
    </IfModule>

</VirtualHost>
